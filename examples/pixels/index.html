<!doctype html>
<html>
	<head>
		<title>Pixels</title>
		<script type="text/javascript" src="../jquery.js"></script>
		<script type="text/javascript" src="../nexusUI.js"></script>
		<script>
		
		nx.onload = function() {

			nx.sendsTo("ajax");
			nx.setAjaxPath("../nexusOSCrelay.php");

			colors1.sendsTo("js");
			toggle1.sendsTo("js");
			
			
			pixels1.dim = { x: 8, y: 8 };
			pixels1.init();
			
			colors1.localTransmit = function(data) {
				pixels1.colors.accent = "rgb("+data[0]+","+data[1]+","+data[2]+")"
			}

			toggle1.localTransmit = function(data) {
				if (data==1) {
					pixels1.mode = "read";
				} else {
					pixels1.mode = "write";
				}
			}

			nx.printOSC();
			
		}
		
	</script>

</head>
<body>

	<canvas nx="pixels"></canvas>
	<canvas nx="colors"></canvas>
	<canvas nx="toggle"></canvas> read on/off
	
</body>
</html>
