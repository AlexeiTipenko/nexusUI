<!doctype html>
<html>
	<head>
		<title>Max7 and NexusUI</title>
		<script type="text/javascript" src="../jquery.js"></script>
		<script type="text/javascript" src="../../nexusUI.js"></script>
		<script>
			// Example to show Integration with Max7
			
		nx.onload = function() {
			
			nx.sendsTo("max");
			
			nx.colorize("#08d");
			
			multislider2.setNumberOfSliders(8);
			message1.sendsTo("js");	// to use the message click to set the dict manually.

			nx.printOSC();
			
			var dictName = 'testDict';
			var pageDict;
			// var dictText = document.getElementById('dict');
		
							// Get the latest text from the dictionary to set the message text.
			window.max.getDict(dictName, function(dict) {
				//message1.val = JSON.stringify(dict, undefined, 2);  // Use to get a string of the entire dictionary
				message1.val.message = dict.text;
				message1.draw();
			});
				
							// Update the message text to the text from the dictionary if you'd like...
			window.max.bindInlet("updateMessage",function() {
				window.max.getDict(dictName, function(dict) {
					message1.val.message = dict.text;
					message1.draw();
				});
			});
			
						// Setting the jointsDict when message is pressed...
			message1.response = function(data) {
				window.max.setDict("jointsDict", joints1.val);
			};
			
		}
					// Used to use a URL message to send things out, now use window.max.outlet()
			//var osc_message = "maxmessage:Party/Central";
			//console.log(osc_message);
			// window.location.href = osc_message;
		
		window.max.bindInlet("testIt", function(){
			window.max.outlet("Hi");
		});
		
		
		
	</script>
	
</head>
<body>
	
	<canvas nx="multislider">Button</canvas>
	<canvas nx="multislider">Button</canvas>
	<canvas nx="message"></canvas>
	<canvas nx="joints"></canvas>

</body>
</html>
